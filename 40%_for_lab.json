{ "title": "For lab",
  "rules": [
    { "description": "単押し変更:Return and Backspace",
      "manipulators": [ 
        { "description": "semicolon → 単体・長押し：Enter",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "return_or_enter" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] },
        { "description": "colon → 単体・長押し：Backspace",
          "type": "basic",
          "from": { "key_code": "quote" },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] }
    ]},
    { "description": "装飾キーおよび英数キー、かなキー",
      "manipulators": [ 
        { "description": "左コントロール → 単体：Tab、長押し：左コントロール",
          "type": "basic",
          "from": { "key_code": "left_control", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_control" } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "tab" } ],
          "conditions":[ { "type": "variable_if", "name": "tenkey_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] },
        { "description": "左シフト → 単体：エスケープ＋英数、長押し：左シフト",
          "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_shift" } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "escape" }, { "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type": "variable_if", "name": "tenkey_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] },
        { "description": "Caps lock → 単体・長押し：左コマンド",
          "type": "basic",
          "from": { "key_code": "caps_lock", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command" } ] },
        { "description": "英数 → 単体：エンター、長押し：レイヤー１",
          "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ {"set_variable": { "name": "eisuu_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "japanese_eisuu" } ],
          "to_after_key_up": [ {"set_variable": { "name": "eisuu_mode","value": 0 } } ] },
        { "description": "かな → 単体：かな、長押し：レイヤー２",
          "type": "basic",
          "from": { "key_code": "japanese_kana", 
                    "modifiers": { "optional": [ "command","option","fn" ] } },
          "to": [ {"set_variable": { "name": "kana_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ {"set_variable": { "name": "kana_mode","value": 0 } } ] }
    ]},
    { "description": "escape or Ctrl+[を押したときに、英数キーも送信する（vim用)",
      "manipulators": [
        { "type": "basic",
          "from": { "key_code": "escape" },
          "to": [ { "key_code": "escape" }, 
                  { "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type":"input_source_if", "input_sources": [ { "language":"ja" } ] } ] },
        { "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "open_bracket", "modifiers": [ "control" ] }, 
                  { "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type": "keyboard_type_if", "keyboard_types": [ "ansi", "iso" ] },
                         { "type":"input_source_if", "input_sources": [ { "language":"ja" } ] } ] },
        { "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "close_bracket", "modifiers": [ "control" ] },
                { "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type": "keyboard_type_if", "keyboard_types": [ "jis" ] },
                         { "type":"input_source_if", "input_sources": [ { "language":"ja" } ] } ] }
    ]},
    { "description": "change command combination",
      "manipulators": [ 
        { "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "mandatory": [ "command" ] } },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] }
    ]},
    { "description": "change control combination",
      "manipulators": [ 
        { "type": "basic",
          "from": { "key_code": "i", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "tab" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "delete_forward" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] }
    ]},
    { "description": "change command combination",
      "manipulators": [ 
        { "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "mandatory": [ "option" ] } },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "left_option" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana_mode", "value": 0 } ] }
    ]},
    { "description": "Layer 1-1: open app and keys for edit",
      "manipulators": [       
        { "type": "basic",
          "from": { "key_code": "q" },
          "to": [ { "shell_command": "open -a TeamViewer" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "shell_command": "open -a 'Microsoft Word'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "shell_command": "open -a 'Microsoft Excel'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "r" },
          "to": [ { "shell_command": "open -a 'Microsoft PowerPoint'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "t" },
          "to": [ { "shell_command": "open -a LaTeXiT" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "open_bracket", "modifiers": [ "left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "shell_command": "open -a Preview" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "shell_command": "open -a 'Visual Studio Code'" },{ "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "shell_command": "open -a 'Google Chrome'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "shell_command": "open -a Skim" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "shell_command": "open -a Calendar" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "shell_command": "open -a Mail" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "shell_command": "open -a Slack" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "shell_command": "open -a Notes.app" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "shell_command": "open -a LINE" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "y" },
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "home" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "key_code": "end" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "escape" } , { "key_code": "b" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "escape" } , { "key_code": "f" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "down_arrow" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "up_arrow" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "right_arrow" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "spacebar", "modifiers": [ "left_option" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "n" },
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "m" },
          "to": [ { "key_code": "v", "modifiers": [ "left_control", "left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "comma" },
          "to": [ { "key_code": "b", "modifiers": [ "left_command", "left_shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "period" },
          "to": [ { "key_code": "f3", "modifiers": [ "left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "slash" },
          "to": [ { "apple_vendor_keyboard_key_code": "launchpad" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] }
    ]},
    { "description": "Layer 1-2: open app",
      "manipulators": [       
        { "type": "basic",
          "from": { "key_code": "q", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "0", "modifiers": [ "left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "w", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "hyphen", "modifiers": [ "left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "e", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "semicolon", "modifiers": [ "left_shift","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "r", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a DeepL" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "t", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a Terminal.app" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "a", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a 'Adobe Photoshop 2022'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "s", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a 'Adobe Illustrator'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "d", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a iTerm.app" },{ "key_code": "japanese_eisuu" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "f", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a Finder.app" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "g", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a 'System Preferences.app'" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "x", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a ParaView-5.9.1.app" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "c", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a Karabiner-Elements" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "v", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "shell_command": "open -a Karabiner-EventViewer" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "b", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "h", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "j", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "k", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },    
        { "type": "basic",
          "from": { "key_code": "l", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] }
    ]},
    { "description": "Layer 1-3: Space operation",
      "manipulators": [       
        { "type": "basic",
          "from": { "key_code": "q", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "left_option","left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "w", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "left_command","left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "e", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "r", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers":[ "left_control","left_option","left_shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "t", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "left_command","left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "a", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "c", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "s", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "d", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "left_option","left_control","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "f", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "f", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "g", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "x", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers":[ "left_command","left_shift","left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "c", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "left_option","left_command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "v", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers":[ "left_control","left_option","left_shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "b", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers":[ "left_command","left_shift","left_control" ] }],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "y", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "quote" }, 
                  { "key_code": "5", "modifiers": [ "shift" ] }, 
                  { "key_code": "s" }, { "key_code": "slash" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "u", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "quote" }, 
                  { "key_code": "v" }, { "key_code": "s" }, { "key_code": "spacebar" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "i", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "quote" }, 
                  { "key_code": "s" }, { "key_code": "p" }, { "key_code": "spacebar" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "o", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "quote" }, 
                  { "key_code": "w" }, { "key_code": "q" }, { "key_code": "return_or_enter" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "p", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "quote" }, 
                  { "key_code": "q" }, { "key_code": "return_or_enter" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "h", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "mission_control" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "j", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "k", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "left_control" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "l", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "f11" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "semicolon", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "period" }, { "key_code": "period" }, { "key_code": "slash" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] }
    ]},
    { "description": "Layer 2: number and symbol",
      "manipulators": [       
        { "description": "shift + kana = command",
          "type": "basic",
          "from": { "key_code": "japanese_kana", 
                    "modifiers": { "mandatory": [ "left_shift" ] } },
          "to": [ { "key_code": "left_command" } ] },
        { "description": "shift + kana = command",
          "type": "basic",
          "from": { "key_code": "left_shift" },
          "to": [ { "key_code": "left_command" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "description": "control + kana = command + shift",
          "type": "basic",
          "from": { "key_code": "japanese_kana", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_command", "modifiers": [ "left_shift" ] } ] },
        { "description": "control + kana = command + shift",
          "type": "basic",
          "from": { "key_code": "left_control" },
          "to": [ { "key_code": "left_command", "modifiers": [ "left_shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "q" },
          "to": [ { "key_code": "semicolon" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "semicolon", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "key_code": "quote" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "r" },
          "to": [ { "key_code": "quote", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "t" },
          "to": [ { "key_code": "international3" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "key_code": "international3", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "hyphen", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "key_code": "hyphen" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "equal_sign", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "equal_sign" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "1" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "key_code": "2" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "key_code": "3" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "key_code": "4" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "5" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "6" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "7" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "8" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "9" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "0" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "key_code": "1", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "key_code": "2", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "key_code": "3", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "4", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "key_code": "5", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "6", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "m" },
          "to": [ { "key_code": "7", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "comma" },
          "to": [ { "key_code": "8", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "period" },
          "to": [ { "key_code": "9", "modifiers": [ "shift" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "slash" },
          "to": [ { "key_code": "international1" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 0},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] }
    ]},
    { "description": "Layer 3-1: scroll mode",
      "manipulators": [       
        { "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "mouse_key": { "speed_multiplier": 0.25 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "mouse_key": { "speed_multiplier": 0.5 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "mouse_key": { "speed_multiplier": 2.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "mouse_key": { "speed_multiplier": 3.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "mouse_key": { "speed_multiplier": 4.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "mouse_key": { "horizontal_wheel": 64 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "mouse_key": { "vertical_wheel": 64 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "mouse_key": { "vertical_wheel": -64 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "mouse_key": { "horizontal_wheel": -64 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "comma" },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "command" ] } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode", "value": 1 } ] }
    ]},
    { "description": "Layer 3-2: mouse mode",
      "manipulators": [       
        { "type": "basic",
          "from": { "key_code": "a", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "speed_multiplier": 0.25 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "s", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "speed_multiplier": 0.5 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "d", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "speed_multiplier": 2.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "f", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "speed_multiplier": 3.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "g", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "speed_multiplier": 4.0 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "i", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "pointing_button": "button1" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "o", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "pointing_button": "button2" } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "h", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "x": -1400 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "j", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "y": 1400 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "k", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "y": -1400 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "l", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "mouse_key": { "x": 1400 } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] }
    ]},
    { "description": "Tenkey Mode: eisuu + tab → on and esc → off",
      "manipulators": [
        { "type": "basic",
          "from": { "key_code": "tab", 
                    "modifiers": { "mandatory": [  ] } },
          "to": [ { "set_variable": { "name": "tenkey_mode", "value": 1 } },
                  { "set_notification_message": { "id": "tenkeys_mode", "text": "Tenkeys mode" } } ],
          "conditions":[ { "type": "variable_if", "name": "eisuu_mode", "value": 1},
                         { "type": "variable_if", "name": "kana_mode",  "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "escape",
                    "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": [ { "set_variable": { "name": "tenkey_mode", "value": 0 } },
                  { "set_notification_message": { "id": "tenkeys_mode", "text": "" } } ],
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "a", 
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "return_or_enter" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "tab", 
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "delete_or_backspace" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "m", 
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "1" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "x", 
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "1" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "comma",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "2" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "c",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "2" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "period",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "3" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "v",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "3" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "j",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "4" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "s",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "4" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "k",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "5" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "d",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "5" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "l",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "6" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "f",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "6" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "u",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "7" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "w",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "7" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "i",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "8" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "e",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "8" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "o",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "9" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "r",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "9" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "spacebar",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "0" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "p",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "period" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "q",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "period" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "y",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_equal_sign" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "t",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_equal_sign" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "n",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": [ { "key_code": "keypad_plus" } ],
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "b",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": [ { "key_code": "keypad_plus" } ],
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "h",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_hyphen" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "g",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_hyphen" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "international1",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_asterisk" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "description": "左シフト → 単体：*、長押し：左シフト",
          "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_shift" } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "keypad_asterisk" } ],
          "conditions":[ { "type": "variable_if", "name": "tenkey_mode", "value": 1 },
                         { "type": "variable_if", "name": "eisuu_mode",  "value": 0 },
                         { "type": "variable_if", "name": "kana_mode",   "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "slash",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_slash" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] },
        { "type": "basic",
          "from": { "key_code": "z",
                  "modifiers": { "mandatory": [  ], "optional": [  ] } },
          "to": { "key_code": "keypad_slash" },
          "conditions": [ { "type": "variable_if", "name": "tenkey_mode", "value": 1 } ] }
    ]}
  ]
}
